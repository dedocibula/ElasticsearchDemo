{{set . "title" "Admin"}}
{{append . "moreScripts" "js/mustache.min.js"}}
{{append . "moreScripts" "js/script.js"}}
{{template "header.html" .}}

<div class="container theme-showcase" role="main">

   <!-- Main jumbotron for a primary marketing message or call to action -->
  <div class="jumbotron">
    <div class="row text-center">
      <h2 class="emphasized">Current Results</h2>
    </div>
    {{template "flash.html" .}}
    <div id="results">
    <script id="results-template" type="x-tmpl-mustache">
      [[#if]]
      	<div class="row">&nbsp;</div>
	    <div class="row">
	      <div class="col-md-1"></div>
	      <div class="col-md-10">
	        <table class="table table-striped">
	          <thead>
	            <tr>
	              <th class="col-md-2">#</th>
	              <th class="col-md-5">Nickname</th>
	              <th class="col-md-5">Answer Time</th>
	            </tr>
	          </thead>
              <tbody>
              [[#results]]
	            <tr>
	              <th scope="row">[[Index]]</th>
	              <td>[[Nickname]]</td>
	              <td>[[Timestamp]]</td>
	            </tr>
	          [[/results]]
	          </tbody>
	        </table>
	      </div>
	      <div class="col-md-1"></div>
        </div>
      [[/if]]
      [[^results]]
        <div class="row text-center">
          <p>No results found</p>
        </div>
      [[/results]]
    </script>
    </div>
    <div class="row">&nbsp;</div>
    <div class="row">
      <div class="col-md-9"></div>
      <div class="col-md-3">
      	<a id="clearBtn" href="/Admin/ClearResults" class="btn btn-lg btn-success" disabled="disabled">Clear Results</a>
      </div>
    </div>
  </div>

  <script id="attempt-template" type="x-tmpl-mustache">
    <tr>
      <td>[[Name]]</td>
      <td>[[Answer]]</td>
    </tr>
  </script>

  <div class="row">
  	{{range $attemptField := .attemptFields}}
	  <div class="col-md-6">
	    <div class="page-header text-center">
	  	  <h1 class="emphasized">{{$attemptField.Header}}</h1>
	    </div>
	    <div class="jumbotron">
	      <div class="row">
	        <div class="col-md-1"></div>
	        <div class="col-md-10">
	          <table class="table table-striped table-center">
	            <thead>
	              <tr>
	                <th class="col-md-6">Name</th>
	                <th class="col-md-6">Answer</th>
	              </tr>
	            </thead>
	            <tbody id="{{$attemptField.Id}}">
				  <!-- content here -->
	            </tbody>
	          </table>
	        </div>
	        <div class="col-md-1"></div>
	      </div>
	    </div>
	  </div>
	{{end}}
  </div>

</div> <!-- /container -->

{{template "footer.html" .}}